(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,t,i){"use strict";i.r(t);var a=i(0),n=i(1),s=i(5),r=i(8),l=i(6),d=i(7);Object(l.polyfill)({dragImageTranslateOverride:d.scrollBehaviourDragImageTranslateOverride});var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.b(t,e),t.prototype.connect=function(){console.log("all team xi connected"),this.initVueComponent()},t.prototype.initVueComponent=function(){new r.a({el:"#allTeam",data:{squadList:[],filteredSquadList:[],selectedSquad:[],toggleSelectedSquadList:!1,allowedSelectionCount:11,filterText:"",searchText:"",selectionStep:1,captainId:"",viceCaptainId:"",focusedCaptainVCId:"",openSelection:!1,deletedPlayers:[],dragOverPlayerId:"",dragStartPlayer:"",allowedOverseasPlayers:4},computed:{getPlayersLeft:function(){return this.allowedSelectionCount-this.selectedSquad.length+"/"+this.allowedSelectionCount},getForeignPlayersLeft:function(){var e=this.selectedSquad.filter((function(e){return"india"!==e.nationality.toLowerCase()}));return this.allowedOverseasPlayers-e.length+"/"+this.allowedOverseasPlayers},getFilteredSquadList:function(){var e=this;if(this.filterText){var t=this.squadList.filter((function(t){return t.season_year===e.filterText}));return this.searchText?t.filter((function(t){return t.name.toLowerCase().includes(e.searchText.toLowerCase())&&t.season_year===e.filterText})):t}return this.searchText?this.squadList.filter((function(t){return t.name.toLowerCase().includes(e.searchText.toLowerCase())})):this.squadList},mobileDevice:function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}},methods:{shortenPlayerName:function(e){var t=e.split(" ");return 1===t.length?e:t.length>1?t[0].slice(0,1)+". "+t.filter((function(e,t){return t>0})).join(" "):""},selectPlayer:function(e){var t=this,i=this.deletedPlayers[0],a=this.selectedSquad.map((function(a,n){return n===i&&(a=e,t.deletedPlayers.shift()),a}));0===this.deletedPlayers.length&&(this.openSelection=!1),this.selectedSquad=a,console.log(this.selectedSquad.length)},removePlayer:function(e){var t=this,i=this.selectedSquad.map((function(i,a){return i.id===e.id&&(t.deletedPlayers.push(a),delete i.id),i}));this.selectedSquad=i,this.$forceUpdate()},selectCaptainVC:function(e,t){"c"===t?this.captainId===this.focusedCaptainVCId?this.captainId="":(e.id===this.viceCaptainId&&(this.viceCaptainId=""),this.captainId=e.id):"vc"===t&&(this.viceCaptainId===this.focusedCaptainVCId?this.viceCaptainId="":(e.id===this.captainId&&(this.captainId=""),this.viceCaptainId=e.id))},addRemoveInSquad:function(e){if(this.selectedSquad.length){var t=this.selectedSquad.indexOf(e);if(t>-1)this.selectedSquad.splice(t,1);else{if(this.selectedSquad.length===this.allowedSelectionCount)return void alert("11 players are selected already, please remove any player to add another.");if("india"===e.nationality.toLowerCase())this.selectedSquad.push(e);else this.selectedSquad.filter((function(e){return"india"!==e.nationality.toLowerCase()})).length<this.allowedOverseasPlayers?this.selectedSquad.push(e):alert("Only 4 overseas players allowed")}}else{"india"===e.nationality.toLowerCase()||this.selectedSquad.filter((function(e){return"india"!==e.nationality.toLowerCase()})).length<this.allowedOverseasPlayers?this.selectedSquad.push(e):alert("Only 4 overseas players allowed")}},fetchPlayers:function(){return a.a(this,void 0,void 0,(function(){var e;return a.c(this,(function(t){switch(t.label){case 0:return[4,fetch("/squad.json")];case 1:return[4,t.sent().json()];case 2:return e=t.sent(),console.log(e),e.length&&(this.squadList=e,this.selectedSquad=this.squadList.slice(0,11)),[2]}}))}))},handleDrop:function(e){var t=this,i=this.selectedSquad,a=i[e],n=-1,s=i.filter((function(e,i){if(t.dragStartPlayer===e.id)return n=i,e}));i[e]=s[0],i[n]=a,this.selectedSquad=i,this.dragOverPlayerId=""},handleDragOver:function(e){this.dragOverPlayerId=e},handleDragStart:function(e){this.dragStartPlayer=e},handleDragEnter:function(e){this.mobileDevice&&(this.dragStartPlayer=e)}},mounted:function(){this.fetchPlayers()}})},t}(n.b);t.default=function(){return s.ApplicationObj.register("all-team--widget-layout-1",o)}}}]);