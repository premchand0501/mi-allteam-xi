{"version":3,"sources":["webpack:///./src/widgets/all-team/PlayersEndPoint.ts","webpack:///./src/widgets/all-team/widget-layout-1.ts"],"names":[],"mappings":"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","file":"all-team--widget-layout-1.chunk.js","sourcesContent":["export const endPoints = {\n  2008: './1111_all_players_1075.json',\n  2009: './1111_all_players_1137.json',\n  2010: './1111_all_players_1184.json',\n  2011: './1111_all_players_1295.json',\n  2012: './1111_all_players_1380.json',\n  2013: './1111_all_players_1517.json',\n  2014: './1111_all_players_2173.json',\n  2015: './1111_all_players_2340.json',\n  2016: './1111_all_players_2569.json',\n  2017: './1111_all_players_2756.json',\n  2018: './1111_all_players_2940.json',\n  2019: './1111_all_players_3130.json',\n}","import { Controller } from \"stimulus\";\nimport { ApplicationObj } from '../../main';\nimport { AllTeamData, AllTeamMethods, AllTeamComputedProperties, PlayerData } from './all-team.interface';\nimport Vue from 'vue'\n\nimport { polyfill } from \"mobile-drag-drop\";\nimport { endPoints } from './PlayersEndPoint';\n\npolyfill();\n\nclass AllTeamXI extends Controller {\n  connect() {\n    console.log('all team xi connected');\n\n    this.initVueComponent();\n  }\n  initVueComponent() {\n    new Vue<AllTeamData, AllTeamMethods, AllTeamComputedProperties>({\n      el: '#allTeam',\n      data: {\n        squadList: [],\n        filteredSquadList: [],\n        selectedSquad: [],\n        toggleSelectedSquadList: false,\n        allowedSelectionCount: 11,\n        season: '2019',\n        searchText: '',\n        selectionStep: 0,\n        captainId: '',\n        wicketKeeperId: '',\n        focusedCaptainWKId: '',\n        openSelection: false,\n        deletedPlayers: [],\n        dragOverPlayerId: '',\n        dragStartPlayerId: '',\n        allowedOverseasPlayers: 4,\n        endPoints,\n        loadingStatus: 0\n      },\n      computed: {\n        getPlayersLeft() {\n          const validPlayers = this.selectedSquad.filter(p => p && p.player_details.hasOwnProperty('id'));\n          return (this.allowedSelectionCount - validPlayers.length) + '/' + this.allowedSelectionCount;\n        },\n        getForeignPlayersLeft() {\n          const overseas = this.selectedSquad.filter(player => player && player.player_details.nationality.toLowerCase() !== 'india')\n          return (this.allowedOverseasPlayers - overseas.length) + '/' + this.allowedOverseasPlayers;\n        },\n        getFilteredSquadList() {\n          if (this.searchText) {\n            return this.squadList.filter((s: PlayerData) => s.player_details.name.toLowerCase().includes(this.searchText.toLowerCase()));\n          }\n          return this.squadList;\n        },\n        mobileDevice() {\n          return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)\n        },\n      },\n      methods: {\n        clearSearch(e: Event) {\n          this.searchText = '';\n          console.log(e.target);\n          const btnEl: HTMLButtonElement = e.target as HTMLButtonElement;\n          const parent = btnEl.parentElement;\n          if (parent) {\n            const parentParent = parent.parentElement;\n            if (parentParent) {\n              const input = parentParent.querySelector('input');\n              input && input.focus();\n            }\n          }\n        },\n        shortenPlayerName(name): string {\n          const wordArr = name.split(' ');\n          if (wordArr.length === 1) {\n            return name;\n          }\n          else if (wordArr.length > 1) {\n            const firstWord = wordArr[0];\n            const firstLetter = firstWord.slice(0, 1) + '. ';\n            const remaining = wordArr.filter((_, i) => i > 0);\n            const remainingName = remaining.join(' ');\n            return firstLetter + remainingName;\n          }\n          return ''\n        },\n        selectPlayer(player: PlayerData) {\n          const { index, playerId } = this.deletedPlayers[0];\n          console.log(player);\n          const overseas = this.selectedSquad.filter(player => player && player.player_details.nationality.toLowerCase() !== 'india');\n          if (overseas.length === this.allowedOverseasPlayers && player.player_details.nationality.toLowerCase() !== 'india') {\n            alert('Only 4 overseas players allowed');\n            return;\n          }\n          const squad = this.selectedSquad.map((p, ind) => {\n            if (ind === index) {\n              p = player;\n              playerId && (p.player_details.id = playerId);\n              this.deletedPlayers.shift();\n            }\n            return p;\n          });\n          if (this.deletedPlayers.length === 0) {\n            this.openSelection = false;\n          }\n          this.selectedSquad = squad;\n          console.log(this.selectedSquad.length);\n        },\n        removePlayer(player: PlayerData, index: number) {\n          this.deletedPlayers.push({ index, playerId: player.player_details.id });\n          const squadList = this.selectedSquad\n          squadList[index] = null;\n          this.selectedSquad = squadList;\n          this.$forceUpdate();\n        },\n        selectCaptainWK(player: PlayerData, type: string) {\n          if (type === 'c') {\n            if (this.captainId === this.focusedCaptainWKId) {\n              this.captainId = ''\n            }\n            else {\n              if (player.player_details.id === this.wicketKeeperId) {\n                this.wicketKeeperId = ''\n              }\n              this.captainId = player.player_details.id\n            }\n          }\n          else if (type === 'wk') {\n            if (this.wicketKeeperId === this.focusedCaptainWKId) {\n              this.wicketKeeperId = ''\n            }\n            else {\n              if (player.player_details.id === this.captainId) {\n                this.captainId = ''\n              }\n              this.wicketKeeperId = player.player_details.id\n            }\n          }\n        },\n        addRemoveInSquad(player: PlayerData) {\n          if (!this.selectedSquad.length) {\n            if (player.player_details.nationality.toLowerCase() === 'india') {\n              this.selectedSquad.push(player);\n            }\n            else {\n              const overseas = this.selectedSquad.filter(player => player && player.player_details.nationality.toLowerCase() !== 'india');\n\n              if (overseas.length < this.allowedOverseasPlayers)\n                this.selectedSquad.push(player);\n              else\n                alert('Only 4 overseas players allowed');\n            }\n            return;\n          }\n          const foundIndex: number = this.selectedSquad.indexOf(player);\n          if (foundIndex > -1) {\n            this.selectedSquad.splice(foundIndex, 1);\n          }\n          else {\n            if (this.selectedSquad.length === this.allowedSelectionCount) {\n              alert('11 players are selected already, please remove any player to add another.');\n              return;\n            }\n            if (player.player_details.nationality.toLowerCase() === 'india') {\n              this.selectedSquad.push(player);\n            }\n            else {\n              const overseas = this.selectedSquad.filter(player => player && player.player_details.nationality.toLowerCase() !== 'india');\n\n              if (overseas.length < this.allowedOverseasPlayers)\n                this.selectedSquad.push(player);\n              else\n                alert('Only 4 overseas players allowed');\n            }\n          }\n        },\n        async fetchPlayers(season: string) {\n          this.loadingStatus = 1;\n          try {\n            const res: any = (await (await fetch(this.endPoints[season])).json());\n            console.log(res);\n            if (Object.keys(res).length && res.players) {\n              this.squadList = res.players;\n              this.squadList = this.squadList.sort((p1, p2) => {\n                const a = p1.player_details.name.toUpperCase();\n                const b = p2.player_details.name.toUpperCase();\n                if (a > b) {\n                  return 1\n                }\n                if (a < b) {\n                  return -1\n                }\n                return 0\n              });\n              // this.selectedSquad = this.squadList.slice(0, 11);\n              for (let i = 0; i < this.allowedSelectionCount; i++) {\n                this.selectedSquad[i] = null;\n                this.deletedPlayers[i] = { index: i, playerId: '' }\n              }\n              this.selectionStep = 1;\n              console.log(this.selectedSquad)\n              this.loadingStatus = 0;\n            }\n          }\n          catch (e) {\n            console.log(e);\n            this.loadingStatus = 2;\n          }\n        },\n        handleDrop(index: number) {\n          if (this.selectionStep !== 1) {\n            return true;\n          }\n          const squad = this.selectedSquad;\n          const droppedOnPlayer = squad[index];\n          let droppingPlayerId = -1;\n          const droppingPlayer = squad.filter((player, index) => {\n            if (player && this.dragStartPlayerId === player.player_details.id) {\n              droppingPlayerId = index;\n              return player;\n            }\n          });\n          squad[index] = droppingPlayer[0];\n          squad[droppingPlayerId] = droppedOnPlayer;\n          console.log(this.dragOverPlayerId, this.dragStartPlayerId, droppedOnPlayer, droppingPlayer);\n          this.selectedSquad = squad;\n          this.dragOverPlayerId = '';\n          // this.dragStartPlayerId = '';\n        },\n        handleDragOver(playerId: string) {\n          if (this.selectionStep !== 1) {\n            return true;\n          }\n          this.dragOverPlayerId = playerId;\n        },\n        handleDragStart(playerId: string) {\n          if (this.selectionStep !== 1) {\n            return true;\n          }\n          this.dragStartPlayerId = playerId;\n        },\n        handleDragEnter(playerId: string) {\n          if (this.selectionStep !== 1) {\n            return true;\n          }\n          if (this.mobileDevice)\n            this.dragStartPlayerId = playerId;\n        },\n      },\n      mounted() {\n        this.fetchPlayers(this.season);\n        console.log(this.endPoints);\n      }\n    })\n  }\n}\nexport default () => ApplicationObj.register('all-team--widget-layout-1', AllTeamXI)"],"sourceRoot":""}